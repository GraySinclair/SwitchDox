[{"tag_name":"1.16","name":"Enigma Vita (v1.11) and Switch (v1.16)","body":"Changes in this version\r\n=====\r\n1.16 (Switch only)\r\n\r\n- Re-compile with 12.0.0 support. Updating the .nro file is enough, data is the same.\r\n- Fix crash on Switch when loading levels with rubberbands\r\n\r\nOverview\r\n=====\r\nThis is my Vita and Switch port of Enigma, a skill/puzzle game inspired by Oxyd on the Atari ST and Rock'n'Roll on the Amiga.\r\n\r\n![](screenshots/enigma_vita_4.jpg)\r\n\r\nThe object of the game is to uncover pairs of identically colored Oxyd stones. Simple? Yes. Easy? Certainly not! Hidden traps, vast mazes, laser beams, and, most of all, countless hairy puzzles usually block your direct way to the Oxyd stones … If you are new to Enigma, you may want to take a look at a few [screenshots](http://www.nongnu.org/enigma/screenshots.html) or peek at the [user manual](http://www.nongnu.org/enigma/manual_1.20/manual/enigma.html).\r\n\r\nHomepage\r\n======\r\nDetailed information about the game can be found here:\r\nhttp://www.nongnu.org/enigma/index.html\r\n\r\nThanks\r\n======\r\nThanks to my supporters on Patreon: Andyways, Count Duckula, Jesse Harlin, Thomas Luten, Matthew Machnee, Mored4u, Ibrahim Fazel Poor, RadicalR.\r\n\r\nThanks to @usineur for his libkbd-vita code for easy use of touch keyboard text entry.\r\n\r\nThanks to the developers of VitaSDK and other developers on the Vita for making this possible, in no particular order: @devnoname120, @TheOfficialFlow, @yifanlu, @Rinnegatamante, @cpasjuste, @xyzz, @xerpi, and many others.\r\n\r\nThanks to the many developers of the original game, such as the main developers Thomas Bernhardt, Raoul Bourquin, Siegfried Fennig, Martin Hawlisch, Daniel Heck, Ronald Lamprecht, Andreas Lochmann, Petr Machata, Nobby, Nat Pryce, Jacob Scott, Sven Siggelkow, Ralf Westram, and many many others.\r\n\r\nThe full credits are at http://www.nongnu.org/enigma/credits.html .\r\n\r\nSpecial thanks to Meinolf Schneider / Amekudzi for the original Oxyd games on Atari ST and PC which inspired Enigma.\r\n\r\nInstallation Instructions\r\n=====\r\nVita:\r\n- Install the .vpk\r\n- Extract the contents of data.zip into ux0:data/\r\n\r\nNOTE: I recommend using FTP transfer to copy the files over (~10,000 small files in data.zip). There is one report (thanks @ji11x38) that using the Vitashell \"SELECT Button: USB\" option to copy files directly from a MacOS computer to the Vita via USB caused the files to not transfer correctly, causing Enigma to crash on startup.\r\n\r\nSwitch:\r\n- Extract the contents of Enigma_Switch.zip into the `switch` folder on your SD card, so that you have a folder `switch/enigma` with `enigma.nro` and more folders and files inside.\r\n\r\nVita/Switch-exclusive features\r\n=====\r\n- game controller support: analog joystick mouse controls and button mappings\r\n- front and rear touch controls with left/right mouse click gestures\r\n- complete level packages with >3,000 levels and pre-calculated preview screenshots\r\n- Bluetooth/USB keyboard and mouse support. The Vita supports only a limited number of BT devices, tested working with Jelly Bean BT keyboard and mouse combo ASIN:B06Y56BBYP and with the standalone Jelly Comb Bluetooth Wireless Mouse ASIN:B075HBDWCF. The Switch supports only a limited number of USB mice. Tested working with Logitech M187.\r\n \r\nControls (controls updated with version 1.08)\r\n=====\r\nLeft analog stick = analog control of the marble and mouse pointer  \r\nSquare / Y / L-trigger = select menu items, use object in game (left mouse button)  \r\nTriangle / X / R-trigger = cycle through inventory items (right mouse button)  \r\nCross / A = ok in menu (return)  \r\nCircle / B = back / in-game menu (escape key)  \r\nStart / Plus = help screen (F1)  \r\nSelect / Minus = destroy marble and remove one life (F3)  \r\nR-trigger + Select / R-trigger + Minus = restart level (shift-F3)  \r\n\r\nDpad in menu = quick-select menu items (arrow keys)  \r\nDpad left/right in game = quick-change mouse speed  \r\nDpad up/down in game = cycle through previous messages  \r\n\r\nFront touch = analog control of the marble and mouse pointer  \r\nRear touch = analog control of the marble and mouse pointer (Vita only)  \r\nSingle finger tap = select menu items, use object in game (left mouse button)  \r\nDual finger tap = cycle through inventory items (right mouse button)  \r\n\r\nDual finger tap works by holding one finger down and quickly tapping with a second finger somewhere else.\r\n\r\nMouse sensitivity can be adjusted in options or in-game via dpad left/right. The setting affects analog joystick, touch, and real bluetooth/USB mice.\r\n\r\nBuild Instructions\r\n=====\r\nVita:\r\nOn Vita, Enigma needs xerces-c and inet. To prepare compilation:\r\n\r\n- with a text-editor, load the file $VITASDK/arm-vita-eabi/include/netinet/in.h. Inside the file, replace \"struct\"  with \"inline struct\" on line 45 and 49.\r\n- download or clone my xerces-c repo from [here](https://www.github.com/rsn8887/xerces-c) into a folder called xerces, then:\r\n````\r\nmkdir build\r\ncd build\r\ncmake -DCMAKE_TOOLCHAIN_FILE=$VITASDK/share/vita.toolchain.cmake -Dmutex-manager=nothreads -Dnetwork=OFF -DCMAKE_BUILD_TYPE=Release -Dsse2=OFF -Dthreads=OFF -DBUILD_SHARED_LIBS=OFF ../xerces/\r\n\r\nmake -j10\r\nmake install -j10\r\n````\r\nYou should now have the file \r\n````\r\n$VITASDK/arm-vita-eabi/lib/libxerces-c.a \r\n````\r\nand a whole bunch of header files in \r\n````\r\n$VITASDK/arm-vita-eabi/include/xercesc/\r\n````\r\n- Clone the Enigma repo into a folder called Enigma and compile:\r\n````\r\nmkdir build\r\ncd build\r\ncmake ../Enigma/ -DBUILD_PSP2=ON -DCMAKE_BUILD_TYPE=Release\r\nmake enigma.vpk -j10\r\n````\r\n\r\nSwitch:\r\nOn Switch, Enigma needs ssl and xerces-c. To prepare compilation:\r\n\r\n- download or clone the moonlight-switch repo which contains libopenssl [here](https://www.github.com/kbhomes/moonlight-switch), then:\r\n````\r\ncd moonlight-switch/dependencies/switch-openssl\r\nexport MOONLIGHT_DEPDIR=$DEVKITPRO/portlibs/switch\r\ndkp-makepkg\r\nsudo -E dkp-pacman -U switch-openssl-1.0.2o-1-any.pkg.tar.xz\r\n````\r\n\r\n- download or clone my xerces-c Switch branch from [here](https://www.github.com/rsn8887/xerces-c-1) into a folder called xerces (use `git checkout switch` to make sure you are on the switch branch), then:\r\n````\r\ncmake -DCMAKE_TOOLCHAIN_FILE=../xerces-c-1/switch.toolchain.cmake -Dtranscoder=iconv -Dmutex-manager=nothreads -Dnetwork=OFF -Dsse2=OFF -Dthreads=OFF -DBUILD_SHARED_LIBS=OFF -Dxmlch-type=uint16_t -DULONG_MAX=4294967295 ../xerces-c-1/\r\ncmake -DCMAKE_TOOLCHAIN_FILE=../xerces-c-1/switch.toolchain.cmake -Dtranscoder=iconv -Dmutex-manager=nothreads -Dnetwork=OFF -Dsse2=OFF -Dthreads=OFF -DBUILD_SHARED_LIBS=OFF -Dxmlch-type=uint16_t -DULONG_MAX=4294967295 ../xerces-c-1/\r\ncmake -DCMAKE_TOOLCHAIN_FILE=../xerces-c-1/switch.toolchain.cmake -Dtranscoder=iconv -Dmutex-manager=nothreads -Dnetwork=OFF -Dsse2=OFF -Dthreads=OFF -DBUILD_SHARED_LIBS=OFF -Dxmlch-type=uint16_t -DULONG_MAX=4294967295 ../xerces-c-1/\r\n\r\nmake -j10\r\nsudo -E make install\r\n````\r\n- (I don't know why repeated cmake is neccessary, but it only works that way for me)\r\n- Clone the Enigma repo into a folder called Enigma and compile:\r\n````\r\nmkdir build\r\ncd build\r\ncmake ../Enigma/ -DBUILD_NX=ON -DCMAKE_BUILD_TYPE=Release\r\nmake enigma_switch.zip -j10\r\n````\r\n\r\nChangelog\r\n=====\r\n1.16 (Switch only)\r\n\r\n- Re-compile with 12.0.0 support. Updating the .nro file is enough, data is the same.\r\n- Fix crash on Switch when loading levels with rubberbands\r\n\r\n1.15 (Switch only)\r\n\r\n- Fix crash on Switch when loading levels with rubberbands that re-appeared using latest toolchain\r\n\r\n1.14 (Switch only)\r\n\r\n- Re-compile with 9.0.0 support\r\n\r\n1.13 (Switch only)\r\n\r\n- Fix crash on Switch when loading a level that contains rubberbands\r\n\r\n1.12 (Switch only)\r\n\r\n- Add Switch version\r\n\r\n1.11\r\n\r\n- Improve response to diagonal stick directions\r\n\r\n1.10\r\n\r\n- Improve response to slow finger motion\r\n\r\n1.09\r\n\r\n- Improve controls with bluetooth mouse by re-compiling with latest SDL-Vita\r\n\r\n1.08\r\n\r\n- Improve keymap, map left/right mouse buttons also to L/R for better playability. \r\n\r\n1.07\r\n\r\n- prevent accidental clicks when moving marble using touch\r\n\r\n1.06\r\n\r\n- map dpad as arrow keys to quick select menu items and quick-select mouse speed in game\r\n- map L to 'F1' (help), X to 'Return' (ok), O to 'ESC' (back)\r\n- update help texts to reflect Vita controller mappings\r\n\r\n1.05\r\n\r\n- enable touch keyboard in menu, useful for name entry and level search\r\n- increase smoothness of mouse pointer motion in gui\r\n- remove the missing translations\r\n\r\n1.04\r\n\r\n- fix missing soundsets in audio menu\r\n\r\n1.03\r\n\r\n- updated data.zip to include many more levels with corresponding thumbnail previews and many more sound sets. \r\n\r\n1.02\r\n\r\n- decrease default joystick sensitivity (marble moved too fast when controlled with joystick)\r\n\r\n1.01\r\n\r\n- map r-trigger to 'restart' and select button to 'kill marble'\r\n\r\n1.00\r\n\r\n- initial Vita port release based on latest Enigma development version\r\n","assets":[{"size":76358156,"browser_download_url":"https://github.com/rsn8887/Enigma/releases/download/1.16/enigma_1.16_switch.zip"}]}]